# aplnb IPython magic


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

``` python
__file__ = './00_core.ipynb'
```

------------------------------------------------------------------------

<a
href="https://github.com/answerdotai/aplnb/blob/main/aplnb/core.py#L18"
target="_blank" style="float:right; font-size:smaller">source</a>

### APLMagic

>      APLMagic ()

*Initialize self. See help(type(self)) for accurate signature.*

------------------------------------------------------------------------

<a
href="https://github.com/answerdotai/aplnb/blob/main/aplnb/core.py#L39"
target="_blank" style="float:right; font-size:smaller">source</a>

### create_magic

>      create_magic (shell=None)

``` python
# Only required if you don't load the extension
create_magic()
```

``` python
%%apl
x←⍳3  ⍝ Set x to positive integers up to 3
```

    <IPython.core.display.Javascript object>

    [1, 2, 3]

``` python
%%apl
x←⍳3  ⍝ Set x to positive integers up to 3
```

    [1, 2, 3]

``` python
%apl x  ⍝ Get the value of x
```

    [1, 2, 3]

``` python
%%apl
⎕←x;  ⍝ Add a ';' to skip returning the last result
```

    1 2 3

``` python
x = %apl x
x
```

    [1, 2, 3]

``` python
%apl ⎕A
```

    'ABCDEFGHIJKLMNOPQRSTUVWXYZ'

------------------------------------------------------------------------

<a
href="https://github.com/answerdotai/aplnb/blob/main/aplnb/core.py#L45"
target="_blank" style="float:right; font-size:smaller">source</a>

### load_ipython_extension

>      load_ipython_extension (ipython)

*Required function for creating magic*

------------------------------------------------------------------------

<a
href="https://github.com/answerdotai/aplnb/blob/main/aplnb/core.py#L50"
target="_blank" style="float:right; font-size:smaller">source</a>

### create_ipython_config

>      create_ipython_config ()

*Called by `aplnb_install` to install magic*

``` python
def dyalog_cmd():
    "Helper function to get shell command to run Dyalog"
    dyalogscript_path = Path(which('dyalogscript.bash'))
    cts = dyalogscript_path.read_text()
    install_dir = re.search(r'^INSTALLDIR="([^"]*)"', cts, flags=re.MULTILINE).group(1)
    install_dir = "/Applications/Dyalog-19.0.app/Contents/Resources/dyalog"
    script_dir = os.environ.get('SCRIPT_DIR', install_dir)
    return f'{script_dir}/dyalog APLKEYS="{install_dir}/aplkeys" APLTRANS="{install_dir}/apltrans"'
```

``` python
dyalog_cmd()
```

    '/Applications/Dyalog-19.0.app/Contents/Resources/dyalog/dyalog APLKEYS="/Applications/Dyalog-19.0.app/Contents/Resources/dyalog/aplkeys" APLTRANS="/Applications/Dyalog-19.0.app/Contents/Resources/dyalog/apltrans"'
